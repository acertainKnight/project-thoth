# ==============================================================================
# Thoth AI Research Assistant - Production Environment Configuration
# Copy this file to .env.prod and configure your production settings
# ==============================================================================

# ==============================================================================
# PRODUCTION API KEYS - Set your production API keys
# ==============================================================================

# LLM Provider API Keys
API_MISTRAL_KEY=prod_mistral_api_key
API_OPENROUTER_KEY=prod_openrouter_api_key

# Academic Search API Keys
API_OPENCITATIONS_KEY=prod_opencitations_api_key
API_GOOGLE_KEY=prod_google_api_key
API_SEMANTIC_SCHOLAR_KEY=prod_semantic_scholar_api_key

# Web Search API Key
API_WEB_SEARCH_KEY=prod_web_search_api_key

# ==============================================================================
# PRODUCTION SERVER CONFIGURATION
# ==============================================================================

# API Server Settings
THOTH_API_HOST=0.0.0.0
THOTH_API_PORT=8000

# MCP Server Settings
THOTH_MCP_HOST=0.0.0.0
THOTH_MCP_PORT=8001

# ChromaDB Settings
THOTH_CHROMADB_HOST=chromadb
THOTH_CHROMADB_PORT=8003
THOTH_CHROMADB_URL=http://chromadb:8003

# ==============================================================================
# PRODUCTION OPERATIONAL SETTINGS
# ==============================================================================

# Logging (Production level)
THOTH_LOG_LEVEL=INFO
THOTH_LOG_FORMAT=<green>{time:YYYY-MM-DD HH:mm:ss}</green> | <level>{level: <8}</level> | <cyan>{name}</cyan> - <level>{message}</level>

# Production flags
THOTH_DOCKER=1
THOTH_PRODUCTION=1
THOTH_DEBUG_ENABLED=false

# Python settings
PYTHONPATH=/app/src
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1

# ==============================================================================
# PRODUCTION LLM CONFIGURATION
# ==============================================================================

# Production LLM model (optimized for cost/performance)
THOTH_LLM_MODEL=anthropic/claude-3-sonnet
THOTH_LLM_TEMPERATURE=0.5
THOTH_LLM_MAX_OUTPUT_TOKENS=2048

# Research agent (production optimized)
THOTH_RESEARCH_AGENT_LLM_MODEL=anthropic/claude-3-haiku
THOTH_RESEARCH_AGENT_MEMORY_ENABLED=true

# ==============================================================================
# PRODUCTION AGENT CONFIGURATION
# ==============================================================================

# Agent limits (production conservative)
THOTH_AGENT_MAX_TOOL_CALLS=15
THOTH_AGENT_TIMEOUT_SECONDS=180
THOTH_AGENT_MEMORY_ENABLED=true

# MCP Tools (production settings)
THOTH_MCP_TOOLS_ENABLED=true
THOTH_MCP_TOOLS_TIMEOUT=20

# ==============================================================================
# PRODUCTION DISCOVERY CONFIGURATION
# ==============================================================================

# Discovery (production limits)
THOTH_DISCOVERY_AUTO_START_SCHEDULER=false
THOTH_DISCOVERY_DEFAULT_MAX_ARTICLES=25
THOTH_DISCOVERY_DEFAULT_INTERVAL_MINUTES=120
THOTH_DISCOVERY_RATE_LIMIT_DELAY=2.0

# Conservative source limits
THOTH_ARXIV_MAX_RESULTS=50
THOTH_SEMANTIC_SCHOLAR_MAX_RESULTS=25
THOTH_GOOGLE_SCHOLAR_MAX_RESULTS=25

# ==============================================================================
# PRODUCTION RAG CONFIGURATION
# ==============================================================================

# Vector database (production optimized)
THOTH_RAG_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
THOTH_RAG_CHUNK_SIZE=256
THOTH_RAG_CHUNK_OVERLAP=25
THOTH_RAG_COLLECTION_NAME=thoth_papers_prod

# Search settings (production)
THOTH_RAG_DEFAULT_K=5
THOTH_RAG_MIN_SIMILARITY=0.2

# ==============================================================================
# PRODUCTION PERFORMANCE AND CACHING
# ==============================================================================

# Aggressive caching for production
THOTH_ENABLE_CACHE=true
THOTH_CACHE_TTL=7200
THOTH_CACHE_MAX_SIZE=5000

# Production performance limits
THOTH_MAX_CONCURRENT_REQUESTS=5
THOTH_MAX_MEMORY=2GB
THOTH_CHUNK_SIZE=512

# Processing limits
THOTH_PDF_PROCESSING_TIMEOUT=180
THOTH_MAX_PDF_SIZE_MB=25
THOTH_ENABLE_OCR=false

# ==============================================================================
# PRODUCTION SECURITY SETTINGS
# ==============================================================================

# Strict CORS for production
THOTH_CORS_ALLOWED_ORIGINS=https://yourdomain.com
THOTH_CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE
THOTH_CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-API-Key

# Production rate limiting
THOTH_RATE_LIMIT_ENABLED=true
THOTH_RATE_LIMIT_PER_MINUTE=30

# Production authentication
THOTH_AUTH_ENABLED=true
THOTH_JWT_SECRET_KEY=your_secure_jwt_secret_key_for_production
THOTH_JWT_EXPIRE_MINUTES=30

# ==============================================================================
# PRODUCTION MONITORING
# ==============================================================================

# Health checks (production)
THOTH_HEALTH_CHECK_ENABLED=true
THOTH_HEALTH_CHECK_INTERVAL=60

# Metrics (production)
THOTH_METRICS_ENABLED=true
THOTH_METRICS_PORT=8002

# ==============================================================================
# PRODUCTION BACKUP AND RECOVERY
# ==============================================================================

# Production backup settings
THOTH_BACKUP_ENABLED=true
THOTH_BACKUP_INTERVAL_HOURS=6
THOTH_BACKUP_RETENTION_DAYS=7
THOTH_BACKUP_DIRECTORY=/opt/thoth/backups

# ==============================================================================
# PRODUCTION RESOURCE LIMITS
# ==============================================================================

# Container resource limits
THOTH_CONTAINER_MEMORY_LIMIT=2G
THOTH_CONTAINER_CPU_LIMIT=1.0
THOTH_CONTAINER_MEMORY_RESERVATION=1G
THOTH_CONTAINER_CPU_RESERVATION=0.5

# Application limits
THOTH_MAX_WORKERS=4
THOTH_WORKER_TIMEOUT=30
THOTH_KEEPALIVE=2

# ==============================================================================
# PRODUCTION LOGGING AND MONITORING
# ==============================================================================

# Log aggregation
THOTH_LOG_AGGREGATION_ENABLED=true
THOTH_LOG_RETENTION_DAYS=30
THOTH_LOG_MAX_SIZE=100MB
THOTH_LOG_MAX_FILES=10

# External monitoring (if using external services)
THOTH_MONITORING_ENABLED=false
THOTH_MONITORING_ENDPOINT=
THOTH_MONITORING_API_KEY=

# Alert settings
THOTH_ALERTS_ENABLED=false
THOTH_ALERT_EMAIL=
THOTH_ALERT_WEBHOOK=

# ==============================================================================
# PRODUCTION DATABASE SETTINGS
# ==============================================================================

# ChromaDB production settings
CHROMA_LOG_LEVEL=INFO
CHROMA_SERVER_CORS_ALLOW_ORIGINS=http://localhost:8000
IS_PERSISTENT=TRUE
PERSIST_DIRECTORY=/chroma/chroma

# Database backup
THOTH_DB_BACKUP_ENABLED=true
THOTH_DB_BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
