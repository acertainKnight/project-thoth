{
  "$schema": "./thoth.settings.schema.json",
  "_comment": "Thoth settings - place this file in your Obsidian vault at .thoth/settings.json",
  "llm": {
    "default_model": "openai/gpt-4o-mini",
    "temperature": 0.7,
    "max_tokens": 4000,
    "top_p": 1.0,
    "frequency_penalty": 0.0,
    "presence_penalty": 0.0
  },
  "citation": {
    "link_format": "uri",
    "style": "IEEE",
    "use_opencitations": true,
    "use_scholarly": true,
    "use_semantic_scholar": false
  },
  "rag": {
    "embeddingModel": "openai/text-embedding-3-small",
    "chunkSize": 1000,
    "chunkOverlap": 200,
    "chunkEncoding": "cl100k_base",
    "qa": {
      "model": "google/gemini-2.5-flash",
      "temperature": 0.2,
      "maxTokens": 2000,
      "retrievalK": 4
    },
    "hybridSearchEnabled": true,
    "hybridRrfK": 60,
    "hybridVectorWeight": 0.7,
    "hybridTextWeight": 0.3,
    "fullTextBackend": "tsvector",
    "rerankingEnabled": true,
    "rerankerProvider": "auto",
    "rerankerModel": "rerank-v3.5",
    "rerankerTopN": 5,
    "retrievalCandidates": 30,
    "contextualEnrichmentEnabled": false,
    "contextualEnrichmentModel": "google/gemini-2.0-flash-lite",
    "adaptiveRoutingEnabled": false,
    "useSemanticRouter": false,
    "cragConfidenceThreshold": 0.6,
    "agenticRetrieval": {
      "enabled": false,
      "maxRetries": 2,
      "documentGradingEnabled": true,
      "queryExpansionEnabled": true,
      "queryDecompositionEnabled": true,
      "hallucinationCheckEnabled": true,
      "strictHallucinationCheck": false,
      "webSearchFallbackEnabled": false,
      "confidenceThreshold": 0.5,
      "cragUpperThreshold": 0.7,
      "cragLowerThreshold": 0.4,
      "knowledgeRefinementEnabled": true,
      "maxStripsPerDocument": 20
    }
  },
  "paths": {
    "workspace": "thoth/_thoth",
    "pdf": "thoth/papers/pdfs",
    "markdown": "thoth/papers/markdown",
    "notes": "thoth/notes",
    "prompts": "thoth/_thoth/prompts",
    "templates": "thoth/_thoth/templates",
    "output": "thoth/_thoth/data/output",
    "knowledgeBase": "thoth/_thoth/data/knowledge",
    "queries": "thoth/_thoth/data/queries",
    "logs": "thoth/_thoth/logs"
  },
  "features": {
    "enable_research_agent": true,
    "enable_citations": true,
    "enable_discovery": true,
    "enable_rag": true,
    "enable_mcp_server": true
  },
  "log_level": "INFO"
}
